<div class="container-fluid post">

    <header class="row">
        <div class="col-lg-4">
            <h1>Søg person</h1>
        </div>
        <div class="col-lg-6">
            <div>Viser 4. af 5.805 personer</div>
        </div>
        <div class="col-lg-2">
            <a href="#" class="btn btn-primary float-lg-right">Tilbage</a>
        </div>
        <div class="col-12">
            <nav aria-label="Brødkrummesti">
                <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Hjem</a></li>
                <li class="breadcrumb-item"><a href="#">Søg</a></li>
                <li class="breadcrumb-item"><a href="#">Søg person</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{$ctrl.data.firstnames}} {{$ctrl.data.lastname}} {{$ctrl.data.birthname}}</li>
                </ol>
            </nav>
        </div>
    </header>

    <section class="float-lg-left">
        <h2>{{$ctrl.data.firstnames}} {{$ctrl.data.lastname}} {{$ctrl.data.birthname}}</h2>
        <h3>Politiets registerblade</h3>
    </section>

    <nav class="float-lg-right">
        <a href="#" class="btn btn-primary">Forrige</a>
        <a href="#" class="btn btn-primary">Næste</a>
    </nav>

    <div class="clearfix"></div>

    <section class="row">

        <div class="col-lg-6 order-lg-last">
            <h4>Kilden</h4>
            <div class="module-gallery">
                <div class="card text-white mb-3">
                    <div class="card-body">
                        <div id="source-gallery" class="carousel slide">
                            <ol class="carousel-indicators">
                                <li data-target="#source-gallery" data-slide-to="0" class="active"></li>
                                <li data-target="#source-gallery" data-slide-to="1" ng-if="$ctrl.imageBack"></li>
                            </ol>
                            <div class="carousel-inner">
                                <a class="carousel-item active" role="button" data-toggle="modal" data-target="#source-gallery-modal">
                                    <!-- <img class="d-block w-100" src="$ctrl.data.imageFront" alt="First slide"> -->
                                    <zoom-image class="d-block w-100" image-url="$ctrl.imageFront" alt="First slide"></zoom-image>
                                </a>
                                <a class="carousel-item" role="button" data-toggle="modal" data-target="#source-gallery-modal" ng-if="$ctrl.imageBack">
                                    <zoom-image class="d-block w-100" image-url="$ctrl.imageBack" alt="Second slide"></zoom-image>
                                </a>
                            </div>
                            <a class="carousel-control-prev" href="#source-gallery" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Forrige side af kilden</span>
                            </a>
                            <a class="carousel-control-next" href="#source-gallery" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Næste side af kilden</span>
                            </a>
                        </div>

                        <div class="text-right">
                            <button type="button" class="btn btn-link"><i width="20px" height="20px" data-feather="zoom-out"></i><span class="sr-only">Zoom ud</span></button>
                            <button type="button" class="btn btn-link"><i width="20px" height="20px" data-feather="zoom-in"></i><span class="sr-only">Zoom ind</span></button>
                            <button type="button" class="btn btn-link" data-toggle="modal" data-target="#source-gallery-modal"><i width="20px" height="20px" data-feather="maximize-2"></i><span class="sr-only">Åbn galleriet i fuld skærm</span></button>
                        </div>

                        <h5>Om kilden</h5>
                        <p>Station {{$ctrl.data.station}}. Filmrulle {{$ctrl.data.film}}. Registerblad {{$ctrl.data.number}} (unikt id. {{$ctrl.data.registerblad_id}})</p>
                        <p ng-if="$ctrl.data.dateOfCompletion">Registerbladet er udfyldt: {{$ctrl.data.dateOfCompletion | date:'dd-MM-yyyy' }}</p>
                        <p ng-if="$ctrl.data.specialRemarks">Særlige bemærkninger: {{$ctrl.data.specialRemarks}}</p>

                        <div class="row">
                            <div class="col">
                                <h6>Afleveret i arkivet</h6>
                                
                            </div>
                            <div class="col">
                                <h6>Løbenr.</h6>
                                
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <h4 id="data-personen">Personen</h4>
            
            <table class="table table-striped" aria-labelledby="data-personen">
                <caption class="sr-only">Data om personen</caption>
                <tbody>
                    <tr>
                        <th scope="row">
                            Persontype
                        </th>
                        <td>
                            {{$ctrl.data.person_type_text}}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">
                        Født
                        </th>
                        <td>
                            {{$ctrl.data.dateOfBirth | date:'dd-MM-yyyy' }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">
                            Køn
                        </th>
                        <td>
                            <text-gender type="$ctrl.data.sex"></text-gender>
                        </td>
                    </tr>
                    <tr ng-if="$ctrl.data.positions != []">
                        <th scope="row">
                            Erhverv
                        </th>
                        <td>
                            <span ng-repeat="position in $ctrl.data.positions">{{position.position}}<span ng-if="!$last">, </span></span>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">
                            Permalink
                        </th>
                        <td>
                            <input id="permalink" class="input" type="text" ng-value="$ctrl.permalink" />
                            <button ng-click="$ctrl.copy()" class="button">Kopier</button>
                            <span class="confirm">Kopieret</span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4 id="data-adresser">Adresser</h4>
            <table class="table table-striped" aria-labelledby="data-adresser">
                <caption class="sr-only">Data om adresser</caption>
                <thead>
                    <tr>
                        <th scope="col">Dato</th>
                        <th scope="col">Adresse</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="address in $ctrl.data.addresses">
                        <td>
                            {{address.address_date | date: 'dd-MM-yyyy'}}
                        </td>
                        <td>
                            <text-address-police address="address" date="true"></text-address-police>
                        </td>
                </tbody>
            </table>

            <h4 id="data-andre-personer" ng-if="$ctrl.data.spouses.length > 0 || $ctrl.data.children.length > 0 || $ctrl.data.parent">Andre personer</h4>
            <table role="navigation" class="table table-striped table-hover" aria-labelledby="data-andre-personer" ng-if="$ctrl.data.spouses.length > 0 || $ctrl.data.children.length > 0 || $ctrl.data.parent">
                <caption class="sr-only">Data om andre personer</caption>
                <thead>
                    <tr>
                        <th scope="col">Titel</th>
                        <th scope="col">Navn</th>
                    </tr>
                </thead>
                <tbody>
                    <tr tabindex="0" role="button" ng-if="$ctrl.data.parent">
                        <td>
                            Forælder
                        </td>
                        <td>
                            {{$ctrl.data.parent.firstnames}} {{$ctrl.data.parent.lastname}}
                            <a target="_blank" ui-sref="search.page.result.post({postId:$ctrl.data.parent.post_id})">
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                    <tr tabindex="0" role="button" ng-repeat="spouse in $ctrl.data.spouses">
                        <td>
                            Ægtefælle
                        </td>
                        <td>
                            {{spouse.firstnames}} {{spouse.lastname}}
                            <a target="_blank" ui-sref="search.page.result.post({postId:spouse.post_id})">
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                    <tr tabindex="0" role="button" ng-repeat="child in $ctrl.data.children">
                        <td>
                            Barn
                        </td>
                        <td>
                            {{child.firstnames}} {{child.lastname}}
                            <a target="_blank" ui-sref="search.page.result.post({postId:child.post_id})">
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

    </section>
