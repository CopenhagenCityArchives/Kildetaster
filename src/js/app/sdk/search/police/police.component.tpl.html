<div class="container-fluid post">

    <div class="clearfix"></div>

    <section class="row">
        <div class="col-lg-6 order-lg-last">
            <gallery images='$ctrl.images' data="$ctrl.data"></gallery>
        </div>
        <div class="col-lg-6">
            <h4 id="data-personen">Personen</h4>
            <table class="table table-striped" aria-labelledby="data-personen">
                <caption class="sr-only">Data om personen</caption>
                <tbody>
                    <tr>
                        <th scope="row">
                            Persontype
                        </th>
                        <td>
                            {{$ctrl.data.person_type_text}}
                        </td>
                    </tr>
                    <tr ng-if="$ctrl.data.dateOfBirth">
                        <th scope="row">
                            Født
                        </th>
                        <td>
                            {{$ctrl.data.dateOfBirth | date:'dd-MM-yyyy' }}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">
                            Køn
                        </th>
                        <td>
                            <text-gender type="$ctrl.data.sex"></text-gender>
                        </td>
                    </tr>
                    <tr ng-if="$ctrl.data.positions.length > 0">
                        <th scope="row">
                            Erhverv
                        </th>
                        <td>
                            <span ng-repeat="position in $ctrl.data.positions">{{position.position}}<span ng-if="!$last">, </span></span>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">
                            Permalink
                        </th>
                        <td>
                            <span id="permalink" class="mr-2">
                                {{$ctrl.permalink}}
                            </span>
                            <button ng-attr-id="permalink_btn" ng-click="$ctrl.copy();" class="btn btn-primary btn-sm" ng-attr-data-clipboard-target="#permalink">Kopier <span class="sr-only"> permalink</span></button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div ng-if="$ctrl.$ctrl.data.addresses">
                <h4 id="data-adresser">Adresser</h4>
                <table class="table table-striped" aria-labelledby="data-adresser">
                    <caption class="sr-only">Data om adresser</caption>
                    <thead>
                        <tr>
                            <th scope="col">Dato</th>
                            <th scope="col">Adresse</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="address in $ctrl.data.addresses">
                            <td>
                                {{address.address_date | date: 'dd-MM-yyyy'}}
                            </td>
                            <td>
                                <text-address-police address="address" date="true"></text-address-police>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4 id="data-andre-personer" ng-if="$ctrl.data.spouses.length > 0 || $ctrl.data.children.length > 0 || $ctrl.data.parent">Andre personer</h4>
            <table role="navigation" class="table table-striped table-hover" aria-labelledby="data-andre-personer" ng-if="$ctrl.data.spouses.length > 0 || $ctrl.data.children.length > 0 || $ctrl.data.parent">
                <caption class="sr-only">Data om andre personer</caption>
                <thead>
                    <tr>
                        <th scope="col">Titel</th>
                        <th scope="col">Navn</th>
                    </tr>
                </thead>
                <tbody>
                    <tr tabindex="0" role="button" ng-if="$ctrl.data.parent" ng-click="$ctrl.goToPost('search.page.result.post({postId:$ctrl.data.parent.post_id})'">
                        <td>
                            Forælder
                        </td>
                        <td>
                            <a target="_blank" ui-sref="search.page.result.post({postId:$ctrl.data.parent.post_id})">
                                {{$ctrl.data.parent.firstnames}} {{$ctrl.data.parent.lastname}}
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                    <tr tabindex="0" role="button" ng-repeat="spouse in $ctrl.data.spouses">
                        <td>
                            Ægtefælle
                        </td>
                        <td>
                            <a target="_blank" ui-sref="search.page.result.post({postId:spouse.post_id})">
                                {{spouse.firstnames}} {{spouse.lastname}}
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                    <tr tabindex="0" role="button" ng-repeat="child in $ctrl.data.children">
                        <td>
                            Barn
                        </td>
                        <td>
                            <a target="_blank" ui-sref="search.page.result.post({postId:child.post_id})">
                                {{child.firstnames}} {{child.lastname}}
                                <svg feather-icon icon="'arrow-right-circle'"></svg>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

    </section>
