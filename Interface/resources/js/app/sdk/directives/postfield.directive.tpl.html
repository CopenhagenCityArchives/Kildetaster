<section>
    <h4>{{data.label}}</h4>

    <div class="postfield" ng-repeat="field in data.fields">

        <div ng-if="!isArray(field)">
            <strong>{{field.label}}</strong>
            <span>{{field.value}}</span> <a href ng-if="errorReporting" ng-click="toggleErrorReporting(field)"><i class="icon-exclamation-sign"></i></a>
        </div>
        
        <div ng-if="isArray(field)">
            {{field[0].value}} <a href ng-if="errorReporting" ng-click="toggleErrorReporting(field)"><i class="icon-exclamation-sign"></i></a>
        </div>

        <div class="error-reporting" ng-if="errorReporting && field.showErrorForm">
            <div class="row-fluid">
                <div class="span12">
                    <textarea ng-model="field.comment"></textarea>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12 text-right">
                    <a href ng-click="toggleErrorReporting(field)">Fortryd</a>
                    
                    <button class="button" ng-click="doReport(data, field)">Indberet fejl</button>
                </div>
            </div>
        </div>

    </div>

    <hr>
</section>
