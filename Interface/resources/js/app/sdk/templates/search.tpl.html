<!-- <aside class="span3" id="sidebar1">
    <div class="module">
        <div>
            <ul class="unstyled">
                <li ng-repeat="(key, value) in facetData | groupBy: 'name'">
                    <h4>{{key}}</h4>

                    <div ng-repeat="facet in value">
                        {{facet.data}} ({{facet.count}})
                    </div>
                </li>
            </ul>
        </div>
    </div>
</aside> -->

<div class="sdk-search">
    <div class="row-fluid" ng-repeat="row in config">
        <div class="span12">
            <div class="row-fluid redform-form sdk-search__config">
                <div class="span4">
                    <div class="field">
                        <label>
                            Felt
                            <select ng-model="row.field" ng-options="field.name for field in fields | filter: {'searchable': '1'}">
                            </select>
                        </label>
                    </div>
                </div>
                <div class="span4">
                    <div class="field">
                        <label>
                            Operator
                            <select ng-model="row.operator">
                                <option value="contains">Indeholder</option>
                                <option value="startsWith">Starter med</option>
                                <option value="endsWith">Slutter med</option>
                            </select>
                        </label>
                    </div>
                </div>
                <div class="span4">
                    <div class="field">
                        <label>
                            Søgeterm
                            <input type="text" placeholder="Søgeterm" ng-model="row.term">
                        </label>
                    </div>
                </div>
                <a href class="sdk-search__remove" ng-if="config.length > 1">
                    <span class="sdk-icon delete" ng-click="removeField($index)"></span>
                </a>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <a href class="sdk-search__add" ng-click="addField()">Tilføj et felt</a>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <button type="button" class="sdk-search__button" ng-click="doSearch()" ng-disabled="searching">Søg</button>
        </div>
    </div>
    <hr class="sdk-search__divider">
    <section>
        <div class="row-fluid">
            <div class="span12" ng-if="results.length > 0">

                <div class="sdk-search__count">
                    <ng-pluralize count="results.numFound"
                        when="{'0': 'Ingen resultater',
                        'one': 'Ét resultat',
                        'other': '{} resultater'}">
                    </ng-pluralize>
                </div>
            </div>
        </div>
        <div ng-repeat="result in results.docs">
            <search-result result="result" config="fields"></search-result>
        </div>
    </section>
</div>