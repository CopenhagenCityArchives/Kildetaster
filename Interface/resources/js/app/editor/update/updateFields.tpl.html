
<div class="row">
    <div class="col-sm-12">
        <h2>Ret fejl i kilde</h2>
        <p>Herunder er de fejlmeldte indtastninger markeret med gult. Ret fejlene i felterne og klik ”ok”.</p>
    </div>    
    <div class="col-sm-12">
        <h3>Udfyldt</h3>
        
        <ul class="list-unstyled field-list" ng-repeat="step in steps" ng-hide="step.fields.length === 0">
            
            <li class="field-list__item" ng-repeat="field in step.fields" ng-class="{ 'field-list__highlight': field.highlight}">
                
                <a href ng-click="toggleEditExistingValue(field)" ng-if="!field.isEditing && !field.highlight">
                    {{field.labelText}}: {{field.value | nameFromObject }} <span class="icon glyphicon glyphicon-pencil"></span>
                </a>
                
                <div class="row" ng-switch="field.type" ng-if="field.isEditing || field.highlight">
                    <div class="col-sm-12">
                        <div ng-switch-when="text">
                            <dynamic-input field-data="field" autofocus="$index === 0"></dynamic-input>
                        </div>
                        <div ng-switch-when="select">
                            <dynamic-select field-data="field" autofocus="$index === 0"></dynamic-select>
                        </div>
                        <div ng-switch-when="typeahead">
                            <dynamic-typeahead field-data="field" autofocus="$index === 0"></dynamic-typeahead>
                        </div>
                    </div>
                    <div class="col-sm-12" ng-if="field.comment">
                        <h5>Kommentar til fejl</h5>
                        <p>{{field.comment}}</p>
                    </div>
                    <div class="col-sm-12 text-right">
                        <button type="button" class="btn btn-default" ng-click="fakeValidation(field)">{{TEXT.BUTTON.OK}}</button>
                    </div>
                </div>

            </li>

        </ul>

    </div>

    <div class="col-sm-12"><hr></div>

    <div class="col-sm-12" ng-if="!readyToSave">
        <button class="btn btn-default btn-block">Spring over</button>
        <button class="btn btn-default btn-block">Send til superbruger</button>
        <button class="btn btn-default btn-block">Læg på forum</button>
    </div>

    <div class="col-sm-12" ng-if="readyToSave">
        <button class="btn btn-default btn-block" ng-click="save()">Gem og luk</button>
        <!-- <button class="btn btn-default btn-block">Gem og næste</button> -->
        
    </div>
</div>